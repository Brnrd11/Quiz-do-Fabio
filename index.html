<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Divertido!</title>
  <style>
    body {
      background-color: #0d1117;
      color: #fff;
      font-family: "Poppins", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background: #161b22;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);
      width: 90%;
      max-width: 600px;
      text-align: center;
    }

    h1 {
      color: #ff4081;
    }

    button {
      background-color: #ff4081;
      border: none;
      color: white;
      padding: 12px 20px;
      margin: 10px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.2s;
    }

    button:hover {
      background-color: #ff669a;
    }

    .option {
      display: block;
      background-color: #21262d;
      padding: 12px;
      margin: 8px 0;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }

    .option:hover {
      background-color: #30363d;
    }

    .correct {
      background-color: #238636;
    }

    .wrong {
      background-color: #da3633;
    }

    .explanation {
      margin-top: 15px;
      font-size: 0.95em;
      color: #bbb;
    }

    .timer {
      font-weight: bold;
      color: #ffb347;
      margin-bottom: 10px;
    }

    .progress {
      height: 6px;
      background: #444;
      border-radius: 4px;
      overflow: hidden;
      margin: 10px 0;
    }

    .progress-bar {
      height: 6px;
      background: #ff4081;
      width: 100%;
      transition: width 1s linear;
    }
  </style>
</head>
<body>
  <div class="container" id="quiz-container">
    <h1>Quiz Divertido!</h1>
    <p>Escolha um tema para começar:</p>
    <div id="theme-buttons"></div>
  </div>

  <script>
    const temas = {
      "Matemática": [
        { q: "Quanto é 12 × 8?", options: ["96", "108", "84", "98"], correct: 0, exp: "12 × 8 = 96." },
        { q: "Qual é a raiz quadrada de 81?", options: ["7", "8", "9", "10"], correct: 2, exp: "√81 = 9." },
        { q: "O resultado de 25 + 37 é:", options: ["62", "52", "60", "64"], correct: 0, exp: "25 + 37 = 62." },
        { q: "3² + 4² = ?", options: ["12", "25", "24", "30"], correct: 1, exp: "3² + 4² = 9 + 16 = 25." },
        { q: "Qual é 1/2 de 80?", options: ["30", "40", "50", "60"], correct: 1, exp: "80 ÷ 2 = 40." },
        { q: "Qual é o valor de π (aprox)?", options: ["2,14", "3,14", "3,41", "3,04"], correct: 1, exp: "π ≈ 3,14." },
        { q: "Quanto é 7 × 9?", options: ["56", "63", "69", "73"], correct: 1, exp: "7 × 9 = 63." },
        { q: "O dobro de 45 é:", options: ["80", "85", "90", "95"], correct: 2, exp: "45 × 2 = 90." },
        { q: "10% de 200 é:", options: ["10", "15", "20", "25"], correct: 2, exp: "10% de 200 = 20." },
        { q: "2³ = ?", options: ["6", "8", "9", "10"], correct: 1, exp: "2³ = 8." }
      ],

      "Conhecimento Geral": [
        { q: "Qual é a capital da França?", options: ["Londres", "Paris", "Berlim", "Madri"], correct: 1, exp: "A capital da França é Paris." },
        { q: "Quem escreveu 'Dom Quixote'?", options: ["Machado de Assis", "Cervantes", "Camões", "Shakespeare"], correct: 1, exp: "Foi Miguel de Cervantes." },
        { q: "Quantos continentes existem?", options: ["5", "6", "7", "8"], correct: 2, exp: "São 7 continentes." },
        { q: "Em que país fica o Monte Everest?", options: ["Índia", "Nepal", "China", "Butão"], correct: 1, exp: "O Everest fica no Nepal." },
        { q: "Quem pintou a Mona Lisa?", options: ["Van Gogh", "Picasso", "Da Vinci", "Michelangelo"], correct: 2, exp: "Leonardo da Vinci." },
        { q: "Qual é o maior oceano?", options: ["Atlântico", "Índico", "Pacífico", "Ártico"], correct: 2, exp: "Oceano Pacífico é o maior." },
        { q: "Ano da chegada do homem à Lua:", options: ["1965", "1969", "1971", "1975"], correct: 1, exp: "Foi em 1969." },
        { q: "Qual país inventou o samba?", options: ["Cuba", "Brasil", "México", "Portugal"], correct: 1, exp: "O samba é brasileiro!" },
        { q: "Maior planeta do Sistema Solar:", options: ["Terra", "Saturno", "Júpiter", "Urano"], correct: 2, exp: "Júpiter é o maior planeta." },
        { q: "Quem descobriu o Brasil?", options: ["Pedro Álvares Cabral", "Cristóvão Colombo", "Vasco da Gama", "Cabral"], correct: 0, exp: "Pedro Álvares Cabral, em 1500." }
      ]
      // os outros temas podem continuar iguais aos anteriores
    };

    const container = document.getElementById("quiz-container");
    const themeButtons = document.getElementById("theme-buttons");

    Object.keys(temas).forEach(theme => {
      const btn = document.createElement("button");
      btn.textContent = theme;
      btn.onclick = () => startQuiz(theme);
      themeButtons.appendChild(btn);
    });

    function startQuiz(theme) {
      let current = 0;
      const questions = temas[theme];
      let timer, timeLeft;

      function showQuestion() {
        clearInterval(timer);
        const q = questions[current];
        timeLeft = 15;

        container.innerHTML = `
          <h2>${theme}</h2>
          <p><b>Pergunta ${current + 1}/${questions.length}</b></p>
          <div class="timer">⏱ Tempo: <span id="time">${timeLeft}</span>s</div>
          <div class="progress"><div class="progress-bar" id="progress-bar"></div></div>
          <p>${q.q}</p>
          <div id="options"></div>
          <p id="feedback" class="explanation"></p>
          <button id="nextBtn" style="display:none;">Próxima</button>
        `;

        const optionsDiv = document.getElementById("options");
        q.options.forEach((opt, i) => {
          const div = document.createElement("div");
          div.className = "option";
          div.textContent = opt;
          div.onclick = () => selectAnswer(i);
          optionsDiv.appendChild(div);
        });

        timer = setInterval(() => {
          timeLeft--;
          document.getElementById("time").textContent = timeLeft;
          document.getElementById("progress-bar").style.width = (timeLeft / 15) * 100 + "%";

          if (timeLeft <= 0) {
            clearInterval(timer);
            showFeedback(-1);
          }
        }, 1000);
      }

      function selectAnswer(i) {
        clearInterval(timer);
        showFeedback(i);
      }

      function showFeedback(i) {
        const q = questions[current];
        const options = document.querySelectorAll(".option");

        options.forEach((opt, idx) => {
          opt.style.pointerEvents = "none";
          if (idx === q.correct) opt.classList.add("correct");
          else if (idx === i) opt.classList.add("wrong");
        });

        const feedback = document.getElementById("feedback");
        if (i === q.correct) feedback.innerHTML = "✅ Correto! " + q.exp;
        else if (i === -1) feedback.innerHTML = "⏰ Tempo esgotado! " + q.exp;
        else feedback.innerHTML = "❌ Errado! " + q.exp;

        document.getElementById("nextBtn").style.display = "block";
        document.getElementById("nextBtn").onclick = nextQuestion;
      }

      function nextQuestion() {
        current++;
        if (current < questions.length) showQuestion();
        else endQuiz();
      }

      function endQuiz() {
        container.innerHTML = `
          <h2>Fim do Quiz!</h2>
          <p>Tema: <b>${theme}</b></p>
          <button onclick="location.reload()">Voltar ao início</button>
        `;
      }

      showQuestion();
    }
  </script>
</body>
</html>
